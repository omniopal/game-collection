(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9690],{41234:()=>{},2579:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>P});var o=l(95155),s=l(12115);l(28021);var n=l(98741),a=l(35761),r=l(11828),i=l(66656),c=l(3575),d=l(37578),u=l(55490),m=l(7303),g=l(31237),h=l(92114),p=l(33502);let x=e=>{for(let t of g.Z)if(t.name===e)return"Kanto";for(let t of h.c)if(t.name===e)return"Johto";for(let t of p.G)if(t.name===e)return"Hoenn";return"Sinnoh"};var f=l(78416),S=l(80906),I=l(1396),v=l(36417),j=l(27753);l(54030);var N=l(32444),w=l(24508);let b=e=>{let{isOpen:t,setIsDialogOpen:l}=e,[n,a]=(0,s.useState)(!1),[r,c]=(0,s.useState)([]);(0,s.useEffect)(()=>{let e=localStorage.getItem("guesses");e&&c(e.split(","))},[t]);let d=async()=>{let e=g(),t="\uD83C\uDFB5 Pok\xe9Melody #".concat(e," results:\n"),l=localStorage.getItem("guesses");if(l){let e=l.split(",");c(e);for(let l=0;l<e.length;l++){let o=Number.parseInt(e[l]);(0===l||1===l)&&(1===o&&(t+="▁"),(2===o||3===o)&&(t+="▂"),(4===o||5===o)&&(t+="▃"),6===o&&(t+="▄"),(7===o||8===o)&&(t+="▅"),(9===o||10===o)&&(t+="▆"),11===o&&(t+="▇")),(2===l||3===l)&&(1===o&&(t+="▁"),(2===o||3===o)&&(t+="▂"),(4===o||5===o)&&(t+="▃"),(6===o||7===o)&&(t+="▄"),8===o&&(t+="▅"),(9===o||10===o)&&(t+="▆"),10===o&&(t+="▇")),(4===l||5===l)&&(1===o&&(t+="▁"),o>=2&&o<=4&&(t+="▂"),o>=5&&o<=7&&(t+="▃"),o>=8&&o<=10&&(t+="▄"),o>=11&&o<=13&&(t+="▅"),(14===o||15===o)&&(t+="▆"),(16===o||17===o)&&(t+="▇")),(6===l||7===l)&&(1===o&&(t+="▁"),o>=2&&o<=4&&(t+="▂"),o>=5&&o<=7&&(t+="▃"),o>=8&&o<=10&&(t+="▄"),o>=11&&o<=13&&(t+="▅"),(14===o||15===o)&&(t+="▆"),o>=16&&o<=18&&(t+="▇")),7===l?t+="\n":t+=" "}t+="\uD83C\uDFC1 Total guesses: ".concat(m(e))}try{await navigator.clipboard.writeText(t),a(!0)}catch(e){console.error("Failed to copy results to clipboard:",e)}},u=(e,t)=>{"clickaway"!==t&&a(!1)},m=e=>{let t=0;return e.forEach(e=>{t+=Number.parseInt(e)}),t};function g(){return Math.floor(Math.abs(new Date("2025-02-18").getTime()-new Date(new Date().toLocaleDateString("en-CA",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})).getTime())/864e5)+1}return(0,o.jsxs)(f.A,{className:"dialog",open:t,PaperProps:{sx:{backgroundColor:"hsl(198, 50%, 10%)",border:"1px solid hsl(258, 80%, 80%);",borderRadius:"24px"}},children:[(0,o.jsx)(S.A,{open:n,autoHideDuration:3e3,onClose:u,anchorOrigin:{horizontal:"center",vertical:"top"},children:(0,o.jsx)(I.A,{onClose:u,severity:"success",variant:"filled",children:"Results copied to clipboard"})}),(0,o.jsx)(v.A,{className:"dialog-title",sx:{paddingBlockEnd:0},children:(0,o.jsx)("p",{children:"Thanks for playing today!"})}),(0,o.jsxs)(j.A,{className:"dialog-content",children:[(0,o.jsxs)("h3",{className:"your-results",children:["Your Pok\xe9Melody #",g()," results:"]}),(0,o.jsx)("table",{className:"table",children:(0,o.jsx)("tbody",{children:r.map((e,t)=>(0,o.jsxs)("tr",{className:"tr",children:[(0,o.jsxs)("td",{className:"td",children:[(0,o.jsx)(w.A,{sx:{dispaly:"flex",color:"hsl(258, 80%, 80%)"}}),(0,o.jsxs)("div",{children:["#",t+1,":"]})]}),(0,o.jsxs)("td",{children:[e," ",1===Number.parseInt(e)?"guess":"guesses"]})]},t))})}),(0,o.jsxs)("div",{className:"total-guesses",children:["Total guesses: ",(0,o.jsx)("span",{className:"your-results",children:m(r)})]}),(0,o.jsxs)("button",{className:"share-button",onClick:d,children:["Copy ",(0,o.jsx)(N.A,{fontSize:"small"})]}),(0,o.jsx)(i.A,{sx:{textDecoration:"none",color:"hsl(198, 50%, 10%)",fontWeight:600,padding:0},className:"link",href:"/freeplay",onClick:()=>l(!1),children:"Go to Free Play"})]})]})};var y=l(28142),T=l(65213),D=l(39567),k=l.n(D);let C=(e,t,l)=>{let o;do o=e[Math.floor(l()*e.length)];while((null==o?void 0:o.name)===(null==t?void 0:t.name));return o},A=(e,t,l)=>{let o=l?c.Z[e].ogTheme:c.Z[e].theme,s=o[Math.floor(t()*o.length)],n=C(o,s,t);return[s,n]},Z=()=>{let e=new Date(new Date().toLocaleDateString("en-CA",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})).toISOString().split("T")[0],t=k()(e);return[...A("Kanto",t),...A("Johto",t),...A("Hoenn",t),...A("Sinnoh",t)]},L=()=>{let e=new Date(new Date().toLocaleDateString("en-CA",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})).toISOString().split("T")[0],t=k()(e);return[...A("Kanto",t,!0),...A("Johto",t,!0),...A("Hoenn",t,!0),...A("Sinnoh",t,!0)]};var O=l(19132),E=l(48324),F=l(67105);let P=()=>{var e;let[t,l]=(0,s.useState)(""),[g,h]=(0,s.useState)(""),p=(0,s.useRef)(null),[f,S]=(0,s.useState)(null),[I,v]=(0,s.useState)([]),[j,N]=(0,s.useState)("Kanto"),[w,D]=(0,s.useState)([]),[k,C]=(0,s.useState)([]),[A,P]=(0,s.useState)(!0),[z,M]=(0,s.useState)([]),[H,K]=(0,s.useState)([]),[R,B]=(0,s.useState)(0),[J,_]=(0,s.useState)(!1),G=(0,a.A)(),W=(0,r.A)(G.breakpoints.down(700)),Y=W?new n.LatLng(800,2102):new n.LatLng(725,2202),q=W?-2:-1,Q=W?"360px":"500px",U=new n.LatLngBounds([0,0],[1600,4405]);(0,s.useEffect)(()=>{var e,t;let l=localStorage.getItem("themeIndex");if(l){let e=Number.parseInt(l);console.log("0");let o=null===(t=z[e-1])||void 0===t?void 0:t.towns[0];console.log(o),N(x(o))}else(null===(e=z[0])||void 0===e?void 0:e.towns)&&(console.log("1"),N(x(z[0].towns[0])));R>1&&R<=8&&V()},[R]);let V=()=>{if(console.log("In playTheme -- themeIndex: "+localStorage.getItem("themeIndex")),console.log("In playTheme -- date: "+localStorage.getItem("date")),c.Z[j]){if(p.current&&(p.current.pause(),p.current.currentTime=0),!A&&R<=z.length&&z.length>0){console.log("index: ".concat(R));let e=z[R-1],t=new Audio(e.file);t.volume=.05,t.autoplay=!0,t.play(),p.current=t,S(e.name),v(e.towns)}if(A&&R<=H.length&&H.length>0){console.log("index: ".concat(R));let e=H[R-1],t=new Audio(null==e?void 0:e.file);t.volume=.05,t.autoplay=!0,t.play(),p.current=t,e&&(S(e.name),v(e.towns)),console.log("2")}}},X=e=>{if(l(e),f){if(console.log(e),I.includes(e)){var t;h("Correct!");let e=[...w,k.length+1];if(D(e),C([]),null===(t=p.current)||void 0===t||t.pause(),console.log("dailyThemeIndex: "+R),console.log("other: ".concat(z.length-1)),R===z.length)localStorage.setItem("guesses",e.toString()),_(!0);else{let t=localStorage.getItem("themeIndex");if(t){let l=Number.parseInt(t);localStorage.setItem("themeIndex","".concat(l+1)),localStorage.setItem("guesses",e.toString())}B(R+1)}}else k.includes(e)||C([...k,e]),h("Wrong")}};return(0,s.useEffect)(()=>{let e=localStorage.getItem("date"),t=new Date(new Date().toLocaleDateString("en-CA",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})).toISOString().split("T")[0];e&&e!=t&&(localStorage.setItem("date",t),localStorage.setItem("themeIndex","1"),localStorage.removeItem("guesses"));let l=localStorage.getItem("themeIndex");e||localStorage.setItem("date",t),console.log("Local Date: "+e),console.log("Today: "+t),console.log("Theme Index: "+l),e===t&&"8"===l&&_(!0);let o=Z(),s=L();console.log(o),M(o),K(s);let n=localStorage.getItem("themeIndex");if(n&&8>Number.parseInt(n)){var a;let e=null===(a=o[Number.parseInt(n)-1])||void 0===a?void 0:a.towns[0];console.log(e),N(x(e))}n||(localStorage.setItem("themeIndex","1"),B(1),N(x(o[0].towns[0])));let r=localStorage.getItem("guesses");if(r){let e=r.split(","),t=[];e.forEach(e=>{t.push(Number.parseInt(e))}),D(t)}n&&8>Number.parseInt(n)&&(console.log("peaches"),B(Number.parseInt(n)))},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.A,{sx:{marginBlockStart:"8px",marginInlineStart:"8px"},className:"logo-container",href:"/pokemon",children:(0,o.jsx)("img",{className:"logo",src:"/images/logo3.png",alt:"PokeMelody logo"})}),(0,o.jsxs)("div",{className:"header",children:[(0,o.jsx)("div",{className:"region",children:(0,o.jsxs)("h2",{children:["Region: ",(0,o.jsx)("span",{className:"region-name",children:j})]})}),(0,o.jsxs)("div",{className:"score-container",children:[(0,o.jsx)("p",{className:"score-label",children:"Round: "}),(0,o.jsxs)("p",{className:"score",children:[localStorage.getItem("themeIndex")," / ",z.length]})]}),(0,o.jsxs)("div",{className:"town-name-display",children:[(0,o.jsx)("p",{className:"town-name-title",children:"Last town selected: "}),(0,o.jsx)("p",{className:"town-name",children:t||"awaiting selection..."})]})]}),"Kanto"===j&&(0,o.jsx)(d.y,{handleTownClick:X,height:Q,bounds:U,guesses:k,center:Y,zoom:q}),"Johto"===j&&(0,o.jsx)(u.r,{handleTownClick:X,height:Q,bounds:U,guesses:k,center:Y,zoom:q}),"Hoenn"===j&&(0,o.jsx)(y.d,{handleTownClick:X,height:Q,bounds:U,guesses:k,center:Y,zoom:q}),"Sinnoh"===j&&(0,o.jsx)(T.m,{handleTownClick:X,height:Q,bounds:U,guesses:k,center:Y,zoom:q}),(0,o.jsxs)("div",{className:"stuff",children:[(0,o.jsxs)("div",{className:"buttons",children:[(0,o.jsxs)("button",{className:"daily-button",onClick:()=>{var e;(null===(e=p.current)||void 0===e?void 0:e.paused)?p.current.play():V()},children:[(0,o.jsx)("span",{className:"button-icon",children:(0,o.jsx)(E.A,{fontSize:"small"})}),"Play"]}),(0,o.jsxs)("button",{className:"daily-button",onClick:()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.pause()},children:[(0,o.jsx)("span",{className:"button-icon",children:(0,o.jsx)(F.A,{fontSize:"small"})}),"Pause"]})]}),(null===(e=c.Z[j])||void 0===e?void 0:e.ogTheme)&&(0,o.jsxs)("div",{className:"theme-version-toggle",children:[(0,o.jsxs)("div",{className:"play-original-theme",children:["Play remastered ",(0,O.l)(j)," themes"]}),(0,o.jsx)(m.Y,{onChange:()=>{P(!A),p.current&&(p.current.pause(),p.current.currentTime=0);let e=A?c.Z[j].theme:c.Z[j].ogTheme;null==e||e.forEach(e=>{if(e.towns.includes(I[0])){let t=new Audio(e.file);t.volume=.05,t.autoplay=!0,t.play(),p.current=t;return}})}})]})]}),(0,o.jsx)(b,{isOpen:J,setIsDialogOpen:_})]})}},54030:()=>{},28021:()=>{}}]);