(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[755],{6647:function(){},8775:function(e,r,a){Promise.resolve().then(a.bind(a,3812))},3812:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return f}});var t=a(7437),n=a(2265);a(3568);var s=a(7968),l=a(1222),i=a(9216);a(6737);let c=e=>{let{generationName:r,children:a}=e,[c,o]=(0,n.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{className:"generation-button",onClick:()=>{o(!c)},children:[(0,t.jsx)("h2",{children:r}),(0,t.jsx)("div",{children:c?(0,t.jsx)(s.Z,{}):(0,t.jsx)(l.Z,{})})]}),(0,t.jsx)(i.Z,{in:c,timeout:"auto",unmountOnExit:!0,children:(0,t.jsx)("div",{className:"pokemon-list",children:a})})]})};var o=a(9842),d=a(5236);a(2487);let u={apiKey:"AIzaSyB3B5JD2TqRKWpOD9LRDitg5ry6lu9EkPc",authDomain:"draftlocke.firebaseapp.com",projectId:"draftlocke",storageBucket:"draftlocke.appspot.com",messagingSenderId:"829000704049",appId:"1:829000704049:web:6396bb5524066fd464f510",measurementId:"G-M0R33P78JS"},m=()=>{let[e,r]=(0,n.useState)(new Map),[a,s]=(0,n.useState)([]),[l,i]=(0,n.useState)("Unselected"),{getPlayersRef:m,getDraftPokemonRef:f,updatePokemonDisabled:p,setPokemonDraftedBy:h}=function(){let e=(0,d.C6)().length?(0,d.Mq)():(0,d.ZF)(u),r=(0,o.ad)(e);return{getPlayersRef:()=>(0,o.hJ)(r,"players"),getPlayers:async()=>{let e=(0,o.JU)(r,"players","players");await (0,o.QT)(e)},setPokemonDraftedBy:async(e,a)=>{let t=(0,o.JU)(r,"draft-pokemon",e);await (0,o.r7)(t,{draftedBy:a})},getDraftPokemonRef:()=>(0,o.hJ)(r,"draft-pokemon"),updatePokemonDisabled:async(e,a)=>{let t=(0,o.JU)(r,"draft-pokemon",e);await (0,o.r7)(t,{isDisabled:a})},addPokemon:async(e,a)=>{try{let t=(0,o.JU)(r,"draft-pokemon",e.toLowerCase());await (0,o.pl)(t,a)}catch(e){console.error("Error adding pokemon to Firestore: ",e)}}}}(),x=e=>e?`Generation ${function(e){let r="";for(let{value:a,numeral:t}of[{value:1e3,numeral:"M"},{value:900,numeral:"CM"},{value:500,numeral:"D"},{value:400,numeral:"CD"},{value:100,numeral:"C"},{value:90,numeral:"XC"},{value:50,numeral:"L"},{value:40,numeral:"XL"},{value:10,numeral:"X"},{value:9,numeral:"IX"},{value:5,numeral:"V"},{value:4,numeral:"IV"},{value:1,numeral:"I"}])for(;e>=a;)r+=t,e-=a;return r}(e)}`:"Starters",v=r=>{if(e.has(r)){let a=e.get(r);a&&p(r,!a.isDisabled)}},j=r=>{if(e.has(r)){let a=e.get(r);return a?.isDisabled}},k=r=>{e.get(r)?.draftedBy||"Unselected"===l||(h(r,l),v(r))},N=(e,r)=>{r===l&&(h(e,""),v(e))};(0,n.useEffect)(()=>{let e=(0,o.cf)(f(),e=>{let a=new Map;e.forEach(e=>{let r=e.data();a.set(e.id,{spriteUrl:r.spriteUrl,isDisabled:r.isDisabled,generation:r.generation,pokedexNumber:r.pokedexNumber,draftedBy:r.draftedBy})}),r(a)}),a=(0,o.cf)(m(),e=>{let r=[];e.forEach(e=>{e.data().players.forEach(e=>{r.push(e)})}),s(r)});return()=>{e(),a()}},[]);let b=Array.from(e.entries()).reduce((e,r)=>{let[a,{spriteUrl:t,isDisabled:n,generation:s,pokedexNumber:l}]=r;return e[s]||(e[s]=[]),e[s].push({pokemonName:a,spriteUrl:t,isDisabled:n,pokedexNumber:l}),e},{});return(0,t.jsxs)("div",{className:"container",children:[(0,t.jsxs)("div",{className:"draft",children:[(0,t.jsx)("h1",{children:"Draftable Pokemon"}),(0,t.jsx)("div",{className:"draft-pokemon-container",children:Object.entries(b).sort((e,r)=>Number(e)-Number(r)).map(e=>{let[r,a]=e;return(0,t.jsx)(c,{generationName:x(Number(r)),children:a.sort((e,r)=>Number(e.pokedexNumber)-Number(r.pokedexNumber)).map(e=>{let{pokemonName:r,spriteUrl:a}=e;return(0,t.jsxs)("div",{className:"name-and-sprite",children:[a?(0,t.jsxs)("div",{className:"sprite-container",onClick:()=>{k(r)},children:[j(r)&&(0,t.jsx)("img",{className:"circle",src:"/images/Draftlocke/circle.png",alt:""}),(0,t.jsx)("img",{className:"sprite",src:a,alt:r})]}):(0,t.jsx)("div",{children:"No sprite available"}),(0,t.jsx)("h3",{children:r})]},r)})})})})]}),(0,t.jsxs)("div",{className:"teams",children:[(0,t.jsxs)("h1",{children:["Current Draftee: ",(0,t.jsx)("div",{className:"current-draftee",children:l})]}),a.map(r=>(0,t.jsxs)("div",{className:"team-container",children:[(0,t.jsxs)("h2",{onClick:()=>{i(l===r?"Unselected":r)},children:[r,"'s Drafts:"]}),(0,t.jsx)("div",{className:"pokemon-container",children:(function(r){let a=[];return e.forEach((e,t)=>{e.draftedBy===r&&a.push({pokemonName:t,spriteUrl:e.spriteUrl})}),a})(r).map(e=>{let{pokemonName:a,spriteUrl:n}=e;return(0,t.jsxs)("div",{className:"name-and-sprite",children:[n?(0,t.jsx)("div",{className:"sprite-container",onClick:()=>{N(a,r)},children:(0,t.jsx)("img",{className:"sprite",src:n,alt:a})}):(0,t.jsx)("div",{children:"No sprite available"}),(0,t.jsx)("p",{children:a})]},a)})})]},r))]})]})};function f(){return(0,t.jsx)(m,{})}},6737:function(){},3568:function(){}},function(e){e.O(0,[398,218,358,784,206,21,971,23,744],function(){return e(e.s=8775)}),_N_E=e.O()}]);