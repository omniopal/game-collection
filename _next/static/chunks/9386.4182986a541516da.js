(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9386],{41234:()=>{},87835:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>M});var l=o(95155),n=o(12115);o(28021);var s=o(98741),a=o(35761),r=o(11828),c=o(66656),i=o(43463),h=o(3575),m=o(37578),d=o(55490),g=o(7303),u=o(39567),x=o.n(u),p=o(31237),f=o(92114),S=o(33502);let j=e=>{for(let t of p.Z)if(t.name===e)return"Kanto";for(let t of f.c)if(t.name===e)return"Johto";for(let t of S.G)if(t.name===e)return"Hoenn";return"Sinnoh"};var v=o(78416),I=o(80906),w=o(1396),N=o(36417),T=o(27753);o(54030);var b=o(32444),y=o(24508);let k=e=>{let{isOpen:t,setIsDialogOpen:o}=e,[s,a]=(0,n.useState)(!1),[r,i]=(0,n.useState)([]);(0,n.useEffect)(()=>{let e=localStorage.getItem("guesses");e&&i(e.split(","))},[t]);let h=async()=>{let e=g(),t="Pok\xe9Melody #".concat(e," Results:\n"),o=localStorage.getItem("guesses");if(o){let e=o.split(",");i(e),e.forEach((e,o)=>{let l="\uD83C\uDFB5 #".concat(o+1,": "),n=Number.parseInt(e);for(let e=0;e<n;e++)n-1===e?l+="✅\n":l+="❌";t+=l}),t+="Total guesses: ".concat(d(e))}try{await navigator.clipboard.writeText(t),a(!0)}catch(e){console.error("Failed to copy results to clipboard:",e)}},m=(e,t)=>{"clickaway"!==t&&a(!1)},d=e=>{let t=0;return e.forEach(e=>{t+=Number.parseInt(e)}),t};function g(){return Math.floor(Math.abs(new Date("2025-02-18").getTime()-new Date(new Date().toLocaleDateString("en-CA",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})).getTime())/864e5)+1}return(0,l.jsxs)(v.A,{className:"dialog",open:t,PaperProps:{sx:{backgroundColor:"hsl(198, 50%, 10%)"}},children:[(0,l.jsx)(I.A,{open:s,autoHideDuration:3e3,onClose:m,anchorOrigin:{horizontal:"center",vertical:"top"},children:(0,l.jsx)(w.A,{onClose:m,severity:"success",variant:"filled",children:"Results copied to clipboard"})}),(0,l.jsx)(N.A,{className:"dialog-title",sx:{paddingBlockEnd:0},children:(0,l.jsx)("p",{children:"Thanks for playing today!"})}),(0,l.jsxs)(T.A,{className:"dialog-content",children:[(0,l.jsxs)("h3",{className:"your-results",children:["Your Pok\xe9Melody #",g()," results:"]}),(0,l.jsx)("table",{className:"table",children:(0,l.jsx)("tbody",{children:r.map((e,t)=>(0,l.jsxs)("tr",{className:"tr",children:[(0,l.jsxs)("td",{className:"td",children:[(0,l.jsx)(y.A,{sx:{dispaly:"flex",color:"hsl(258, 80%, 80%)"}}),(0,l.jsxs)("div",{children:["#",t+1,":"]})]}),(0,l.jsxs)("td",{children:[e," ",1===Number.parseInt(e)?"guess":"guesses"]})]},t))})}),(0,l.jsxs)("div",{className:"total-guesses",children:["Total guesses: ",(0,l.jsx)("span",{className:"your-results",children:d(r)})]}),(0,l.jsxs)("button",{className:"share-button",onClick:h,children:["Copy ",(0,l.jsx)(b.A,{fontSize:"small"})]}),(0,l.jsx)(c.A,{sx:{textDecoration:"none",color:"hsl(198, 50%, 10%)",fontWeight:600,padding:0},className:"link",href:"/freeplay",onClick:()=>o(!1),children:"Go to Free Play"})]})]})};var C=o(28142),D=o(65213);let M=()=>{var e;let[t,o]=(0,n.useState)(""),[u,p]=(0,n.useState)(""),f=(0,n.useRef)(null),[S,v]=(0,n.useState)(null),[I,w]=(0,n.useState)([]),[N,T]=(0,n.useState)("Kanto"),[b,y]=(0,n.useState)([]),[M,Z]=(0,n.useState)([]),[A,L]=(0,n.useState)(!1),[O,E]=(0,n.useState)([]),[P,F]=(0,n.useState)([]),[z,R]=(0,n.useState)(0),[H,K]=(0,n.useState)(!1),B=(0,a.A)(),J=(0,r.A)(B.breakpoints.down(700)),_=J?new s.LatLng(800,2102):new s.LatLng(725,2202),G=J?-2:-1,W=J?"360px":"500px",Y=new s.LatLngBounds([0,0],[1600,4405]);(0,n.useEffect)(()=>{var e,t;let o=localStorage.getItem("themeIndex");if(o){let e=Number.parseInt(o);console.log("0");let l=null===(t=O[e-1])||void 0===t?void 0:t.towns[0];console.log(l),T(j(l))}else(null===(e=O[0])||void 0===e?void 0:e.towns)&&(console.log("1"),T(j(O[0].towns[0])));z>1&&z<8&&q()},[z]);let q=()=>{if(h.Z[N]){if(f.current&&(f.current.pause(),f.current.currentTime=0),!A&&z<=O.length&&O.length>0){console.log("index: ".concat(z));let e=O[z-1],t=new Audio(e.file);t.volume=.05,t.autoplay=!0,t.play(),f.current=t,v(e.name),console.log("2"),w(e.towns)}if(A&&z<=P.length&&P.length>0){console.log("index: ".concat(z));let e=P[z-1],t=new Audio(null==e?void 0:e.file);t.volume=.05,t.autoplay=!0,t.play(),f.current=t,e&&(v(e.name),w(e.towns)),console.log("2")}}},Q=e=>{if(o(e),S){if(console.log(e),I.includes(e)){var t;p("Correct!");let e=[...b,M.length+1];if(y(e),Z([]),null===(t=f.current)||void 0===t||t.pause(),console.log("dailyThemeIndex: "+z),console.log("other: ".concat(O.length-1)),z===O.length)localStorage.setItem("guesses",e.toString()),K(!0);else{let e=localStorage.getItem("themeIndex");if(e){let t=Number.parseInt(e);localStorage.setItem("themeIndex","".concat(t+1))}R(z+1)}}else M.includes(e)||Z([...M,e]),p("Wrong")}},U=()=>{let e=new Date(new Date().toLocaleDateString("en-CA",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})).toISOString().split("T")[0],t=x()(e),o=h.Z.Kanto,l=o.theme.length,n=o.theme[Math.floor(t()*l)],s=o.theme[Math.floor(t()*l)],a=h.Z.Johto,r=a.theme.length,c=a.theme[Math.floor(t()*r)],i=a.theme[Math.floor(t()*r)],m=h.Z.Hoenn,d=m.theme.length,g=m.theme[Math.floor(t()*d)],u=m.theme[Math.floor(t()*d)],p=h.Z.Sinnoh,f=p.theme.length;return[n,s,c,i,g,u,p.theme[Math.floor(t()*f)],p.theme[Math.floor(t()*f)]]},V=()=>{let e=new Date(new Date().toLocaleDateString("en-CA",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})).toISOString().split("T")[0],t=x()(e),o=h.Z.Kanto,l=o.ogTheme.length,n=o.ogTheme[Math.floor(t()*l)],s=o.ogTheme[Math.floor(t()*l)],a=h.Z.Johto,r=a.ogTheme.length,c=a.ogTheme[Math.floor(t()*r)],i=a.ogTheme[Math.floor(t()*r)],m=h.Z.Hoenn,d=m.ogTheme.length,g=m.ogTheme[Math.floor(t()*d)],u=m.ogTheme[Math.floor(t()*d)],p=h.Z.Sinnoh,f=p.ogTheme.length;return[n,s,c,i,g,u,p.ogTheme[Math.floor(t()*f)],p.ogTheme[Math.floor(t()*f)]]};return(0,n.useEffect)(()=>{let e=localStorage.getItem("date"),t=new Date(new Date().toLocaleDateString("en-CA",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})).toISOString().split("T")[0],o=localStorage.getItem("themeIndex");o?R(Number.parseInt(o)):R(0),console.log("Local Date: "+e),console.log("Today: "+t),console.log("Theme Index: "+o),e||localStorage.setItem("date",t),e===t&&"8"===o&&K(!0),e&&e!=t&&(localStorage.setItem("date",t),localStorage.setItem("themeIndex","1"),localStorage.removeItem("guesses"));let l=U(),n=V();console.log(l),E(l),F(n);let s=localStorage.getItem("themeIndex");if(s&&8>Number.parseInt(s)){var a;let e=null===(a=l[Number.parseInt(s)-1])||void 0===a?void 0:a.towns[0];console.log(e),T(j(e))}s||(localStorage.setItem("themeIndex","1"),T(j(l[0].towns[0])))},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.A,{sx:{marginBlockStart:"8px",marginInlineStart:"8px"},className:"logo-container",href:"/pokemon",children:(0,l.jsx)("img",{className:"logo",src:"/images/logo3.png",alt:"PokeMelody logo"})}),(0,l.jsxs)("div",{className:"header",children:[(0,l.jsx)("div",{className:"region",children:(0,l.jsxs)("h2",{children:["Region: ",N]})}),(0,l.jsxs)("div",{className:"score-container",children:[(0,l.jsx)("p",{className:"score-label",children:"Round: "}),(0,l.jsxs)("p",{className:"score",children:[localStorage.getItem("themeIndex")," / ",O.length]})]})]}),"Kanto"===N&&(0,l.jsx)(m.y,{handleTownClick:Q,height:W,bounds:Y,guesses:M,center:_,zoom:G}),"Johto"===N&&(0,l.jsx)(d.r,{handleTownClick:Q,height:W,bounds:Y,guesses:M,center:_,zoom:G}),"Hoenn"===N&&(0,l.jsx)(C.d,{handleTownClick:Q,height:W,bounds:Y,guesses:M,center:_,zoom:G}),"Sinnoh"===N&&(0,l.jsx)(D.m,{handleTownClick:Q,height:W,bounds:Y,guesses:M,center:_,zoom:G}),(0,l.jsxs)("div",{className:"stuff",children:[(0,l.jsx)("p",{children:"Play a random theme and then click on which location it belongs to!"}),(0,l.jsxs)("div",{className:"buttons",children:[(0,l.jsx)("button",{className:"button",onClick:q,children:"Play Theme"}),(0,l.jsx)("button",{className:"button",onClick:()=>{var e;return null===(e=f.current)||void 0===e?void 0:e.pause()},children:"Stop music"}),(0,l.jsx)("button",{className:"button",onClick:()=>{localStorage.setItem("themeIndex","1"),R(0),y([])},children:"Reset"})]}),(null===(e=h.Z[N])||void 0===e?void 0:e.ogTheme)&&(0,l.jsxs)("div",{className:"theme-version-toggle",children:[(0,l.jsx)("div",{className:"play-original-theme",children:"Play original themes"}),(0,l.jsx)(g.Y,{onChange:()=>{L(!A),f.current&&(f.current.pause(),f.current.currentTime=0);let e=A?h.Z[N].theme:h.Z[N].ogTheme;null==e||e.forEach(e=>{if(console.log("4"),e.towns.includes(I[0])){let t=new Audio(e.file);t.volume=.05,t.autoplay=!0,t.play(),f.current=t;return}})}})]}),(0,l.jsxs)("div",{className:"results",children:[(0,l.jsxs)("div",{className:"town-name-display",children:[(0,l.jsx)("p",{children:"Last town selected: "}),(0,l.jsx)("p",{className:"town-name",children:t||"awaiting selection..."})]}),u&&(0,l.jsx)("div",{className:(0,i.A)("Correct!"===u?"correct":"wrong"),children:u})]})]}),(0,l.jsx)(k,{isOpen:H,setIsDialogOpen:K})]})}},54030:()=>{},28021:()=>{}}]);