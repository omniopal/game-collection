(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9690],{41234:()=>{},2579:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>z});var l=o(95155),s=o(12115);o(28021);var n=o(98741),a=o(35761),r=o(11828),c=o(66656),i=o(43463),d=o(3575),u=o(37578),g=o(55490),m=o(7303),h=o(31237),p=o(92114),x=o(33502);let f=e=>{for(let t of h.Z)if(t.name===e)return"Kanto";for(let t of p.c)if(t.name===e)return"Johto";for(let t of x.G)if(t.name===e)return"Hoenn";return"Sinnoh"};var S=o(78416),I=o(80906),j=o(1396),v=o(36417),N=o(27753);o(54030);var w=o(32444),b=o(24508);let y=e=>{let{isOpen:t,setIsDialogOpen:o}=e,[n,a]=(0,s.useState)(!1),[r,i]=(0,s.useState)([]);(0,s.useEffect)(()=>{let e=localStorage.getItem("guesses");e&&i(e.split(","))},[t]);let d=async()=>{let e=m(),t="\uD83C\uDFB5 Pok\xe9Melody #".concat(e," results:\n"),o=localStorage.getItem("guesses");if(o){let e=o.split(",");i(e);for(let o=0;o<e.length;o++){let l=Number.parseInt(e[o]);(0===o||1===o)&&(1===l&&(t+="▁"),(2===l||3===l)&&(t+="▂"),(4===l||5===l)&&(t+="▃"),6===l&&(t+="▄"),(7===l||8===l)&&(t+="▅"),(9===l||10===l)&&(t+="▆"),11===l&&(t+="▇")),(2===o||3===o)&&(1===l&&(t+="▁"),(2===l||3===l)&&(t+="▂"),(4===l||5===l)&&(t+="▃"),(6===l||7===l)&&(t+="▄"),8===l&&(t+="▅"),(9===l||10===l)&&(t+="▆"),10===l&&(t+="▇")),(4===o||5===o)&&((1===l||2===l)&&(t+="▁"),(3===l||4===l)&&(t+="▂"),l>=5&&l<=7&&(t+="▃"),l>=8&&l<=10&&(t+="▄"),l>=11&&l<=13&&(t+="▅"),(14===l||15===l)&&(t+="▆"),(16===l||17===l)&&(t+="▇")),(6===o||7===o)&&((1===l||2===l)&&(t+="▁"),(3===l||4===l)&&(t+="▂"),l>=5&&l<=7&&(t+="▃"),l>=8&&l<=10&&(t+="▄"),l>=11&&l<=13&&(t+="▅"),(14===l||15===l)&&(t+="▆"),l>=16&&l<=18&&(t+="▇")),7===o?t+="\n":t+=" "}t+="\uD83C\uDFC1 Total guesses: ".concat(g(e))}try{await navigator.clipboard.writeText(t),a(!0)}catch(e){console.error("Failed to copy results to clipboard:",e)}},u=(e,t)=>{"clickaway"!==t&&a(!1)},g=e=>{let t=0;return e.forEach(e=>{t+=Number.parseInt(e)}),t};function m(){return Math.floor(Math.abs(new Date("2025-02-18").getTime()-new Date(new Date().toLocaleDateString("en-CA",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})).getTime())/864e5)+1}return(0,l.jsxs)(S.A,{className:"dialog",open:t,PaperProps:{sx:{backgroundColor:"hsl(198, 50%, 10%)",border:"1px solid hsl(258, 80%, 80%);",borderRadius:"24px"}},children:[(0,l.jsx)(I.A,{open:n,autoHideDuration:3e3,onClose:u,anchorOrigin:{horizontal:"center",vertical:"top"},children:(0,l.jsx)(j.A,{onClose:u,severity:"success",variant:"filled",children:"Results copied to clipboard"})}),(0,l.jsx)(v.A,{className:"dialog-title",sx:{paddingBlockEnd:0},children:(0,l.jsx)("p",{children:"Thanks for playing today!"})}),(0,l.jsxs)(N.A,{className:"dialog-content",children:[(0,l.jsxs)("h3",{className:"your-results",children:["Your Pok\xe9Melody #",m()," results:"]}),(0,l.jsx)("table",{className:"table",children:(0,l.jsx)("tbody",{children:r.map((e,t)=>(0,l.jsxs)("tr",{className:"tr",children:[(0,l.jsxs)("td",{className:"td",children:[(0,l.jsx)(b.A,{sx:{dispaly:"flex",color:"hsl(258, 80%, 80%)"}}),(0,l.jsxs)("div",{children:["#",t+1,":"]})]}),(0,l.jsxs)("td",{children:[e," ",1===Number.parseInt(e)?"guess":"guesses"]})]},t))})}),(0,l.jsxs)("div",{className:"total-guesses",children:["Total guesses: ",(0,l.jsx)("span",{className:"your-results",children:g(r)})]}),(0,l.jsxs)("button",{className:"share-button",onClick:d,children:["Copy ",(0,l.jsx)(w.A,{fontSize:"small"})]}),(0,l.jsx)(c.A,{sx:{textDecoration:"none",color:"hsl(198, 50%, 10%)",fontWeight:600,padding:0},className:"link",href:"/freeplay",onClick:()=>o(!1),children:"Go to Free Play"})]})]})};var T=o(28142),D=o(65213),k=o(39567),C=o.n(k);let A=(e,t,o)=>{let l;do l=e[Math.floor(o()*e.length)];while((null==l?void 0:l.name)===(null==t?void 0:t.name));return l},Z=(e,t,o)=>{let l=o?d.Z[e].ogTheme:d.Z[e].theme,s=l[Math.floor(t()*l.length)],n=A(l,s,t);return[s,n]},L=()=>{let e=new Date(new Date().toLocaleDateString("en-CA",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})).toISOString().split("T")[0],t=C()(e);return[...Z("Kanto",t),...Z("Johto",t),...Z("Hoenn",t),...Z("Sinnoh",t)]},O=()=>{let e=new Date(new Date().toLocaleDateString("en-CA",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})).toISOString().split("T")[0],t=C()(e);return[...Z("Kanto",t,!0),...Z("Johto",t,!0),...Z("Hoenn",t,!0),...Z("Sinnoh",t,!0)]};var E=o(19132),F=o(48324),P=o(67105);let z=()=>{var e;let[t,o]=(0,s.useState)(""),[h,p]=(0,s.useState)(""),x=(0,s.useRef)(null),[S,I]=(0,s.useState)(null),[j,v]=(0,s.useState)([]),[N,w]=(0,s.useState)("Kanto"),[b,k]=(0,s.useState)([]),[C,A]=(0,s.useState)([]),[Z,z]=(0,s.useState)(!0),[M,H]=(0,s.useState)([]),[K,R]=(0,s.useState)([]),[B,J]=(0,s.useState)(0),[_,G]=(0,s.useState)(!1),W=(0,a.A)(),Y=(0,r.A)(W.breakpoints.down(700)),q=Y?new n.LatLng(800,2102):new n.LatLng(725,2202),Q=Y?-2:-1,U=Y?"360px":"500px",V=new n.LatLngBounds([0,0],[1600,4405]);(0,s.useEffect)(()=>{var e,t;let o=localStorage.getItem("themeIndex");if(o){let e=Number.parseInt(o);console.log("0");let l=null===(t=M[e-1])||void 0===t?void 0:t.towns[0];console.log(l),w(f(l))}else(null===(e=M[0])||void 0===e?void 0:e.towns)&&(console.log("1"),w(f(M[0].towns[0])));B>1&&B<=8&&X()},[B]);let X=()=>{if(console.log("In playTheme -- themeIndex: "+localStorage.getItem("themeIndex")),console.log("In playTheme -- date: "+localStorage.getItem("date")),d.Z[N]){if(x.current&&(console.log("uno"),x.current.pause(),x.current.currentTime=0),!Z&&B<=M.length&&M.length>0){console.log("dos"),console.log("index: ".concat(B));let e=M[B-1],t=new Audio(e.file);t.volume=.05,t.autoplay=!0,t.play(),x.current=t,I(e.name),console.log("2"),v(e.towns)}if(Z&&B<=K.length&&K.length>0){console.log("tres"),console.log("index: ".concat(B));let e=K[B-1],t=new Audio(null==e?void 0:e.file);t.volume=.05,t.autoplay=!0,t.play(),x.current=t,e&&(console.log("quatro"),I(e.name),v(e.towns)),console.log("2")}}},$=e=>{if(o(e),S){if(console.log(e),j.includes(e)){var t;p("Correct!");let e=[...b,C.length+1];if(k(e),A([]),null===(t=x.current)||void 0===t||t.pause(),console.log("dailyThemeIndex: "+B),console.log("other: ".concat(M.length-1)),B===M.length)localStorage.setItem("guesses",e.toString()),G(!0);else{let t=localStorage.getItem("themeIndex");if(t){let o=Number.parseInt(t);console.log("apples"),localStorage.setItem("themeIndex","".concat(o+1)),localStorage.setItem("guesses",e.toString())}console.log("kiwis"),J(B+1),B%2==0&&o("")}}else C.includes(e)||A([...C,e]),p("Wrong")}};return(0,s.useEffect)(()=>{let e=localStorage.getItem("date"),t=new Date(new Date().toLocaleDateString("en-CA",{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})).toISOString().split("T")[0];e&&e!=t&&(localStorage.setItem("date",t),console.log("bananas"),localStorage.setItem("themeIndex","1"),localStorage.removeItem("guesses"));let o=localStorage.getItem("themeIndex");e||localStorage.setItem("date",t),console.log("Local Date: "+e),console.log("Today: "+t),console.log("Theme Index: "+o),e===t&&"8"===o&&G(!0);let l=L(),s=O();console.log(l),H(l),R(s);let n=localStorage.getItem("themeIndex");if(n&&8>Number.parseInt(n)){var a;let e=null===(a=l[Number.parseInt(n)-1])||void 0===a?void 0:a.towns[0];console.log(e),w(f(e))}n||(console.log("oranges"),localStorage.setItem("themeIndex","1"),J(1),w(f(l[0].towns[0])));let r=localStorage.getItem("guesses");if(r){let e=r.split(","),t=[];e.forEach(e=>{t.push(Number.parseInt(e))}),k(t)}n&&8>Number.parseInt(n)&&(console.log("peaches"),J(Number.parseInt(n)))},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.A,{sx:{marginBlockStart:"8px",marginInlineStart:"8px"},className:"logo-container",href:"/pokemon",children:(0,l.jsx)("img",{className:"logo",src:"/images/logo3.png",alt:"PokeMelody logo"})}),(0,l.jsxs)("div",{className:"header",children:[(0,l.jsx)("div",{className:"region",children:(0,l.jsxs)("h2",{children:["Region: ",(0,l.jsx)("span",{className:"region-name",children:N})]})}),(0,l.jsxs)("div",{className:"score-container",children:[(0,l.jsx)("p",{className:"score-label",children:"Round: "}),(0,l.jsxs)("p",{className:"score",children:[localStorage.getItem("themeIndex")," / ",M.length]})]})]}),"Kanto"===N&&(0,l.jsx)(u.y,{handleTownClick:$,height:U,bounds:V,guesses:C,center:q,zoom:Q}),"Johto"===N&&(0,l.jsx)(g.r,{handleTownClick:$,height:U,bounds:V,guesses:C,center:q,zoom:Q}),"Hoenn"===N&&(0,l.jsx)(T.d,{handleTownClick:$,height:U,bounds:V,guesses:C,center:q,zoom:Q}),"Sinnoh"===N&&(0,l.jsx)(D.m,{handleTownClick:$,height:U,bounds:V,guesses:C,center:q,zoom:Q}),(0,l.jsxs)("div",{className:"stuff",children:[(0,l.jsxs)("div",{className:"buttons",children:[(0,l.jsxs)("button",{className:"daily-button",onClick:X,children:[(0,l.jsx)("span",{className:"button-icon",children:(0,l.jsx)(F.A,{fontSize:"small"})}),"Play Theme"]}),(0,l.jsxs)("button",{className:"daily-button",onClick:()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.pause()},children:[(0,l.jsx)("span",{className:"button-icon",children:(0,l.jsx)(P.A,{fontSize:"small"})}),"Pause music"]})]}),(null===(e=d.Z[N])||void 0===e?void 0:e.ogTheme)&&(0,l.jsxs)("div",{className:"theme-version-toggle",children:[(0,l.jsxs)("div",{className:"play-original-theme",children:["Play remastered ",(0,E.l)(N)," themes"]}),(0,l.jsx)(m.Y,{onChange:()=>{z(!Z),x.current&&(x.current.pause(),x.current.currentTime=0);let e=Z?d.Z[N].theme:d.Z[N].ogTheme;null==e||e.forEach(e=>{if(console.log("4"),e.towns.includes(j[0])){let t=new Audio(e.file);t.volume=.05,t.autoplay=!0,t.play(),x.current=t;return}})}})]}),(0,l.jsxs)("div",{className:"results",children:[(0,l.jsxs)("div",{className:"town-name-display",children:[(0,l.jsx)("p",{children:"Last town selected: "}),(0,l.jsx)("p",{className:"town-name",children:t||"awaiting selection..."})]}),h&&(0,l.jsx)("div",{className:(0,i.A)("Correct!"===h?"correct":"wrong"),children:h})]})]}),(0,l.jsx)(y,{isOpen:_,setIsDialogOpen:G})]})}},54030:()=>{},28021:()=>{}}]);